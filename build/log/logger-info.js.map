{"version":3,"sources":["../../app/log/logger-info.js"],"names":["winston","logDir","logPathConfig","infoLog","existsSync","mkdirSync","logInfo","createLogger","format","printf","info","message","transports","DailyRotateFile","filename","datePattern","zippedArchive","maxSize","maxFiles","exitOnError"],"mappings":";;;;;;AAAA;;IAAYA,O;;AACZ;;;;AACA;;AACA;;;;;;;;AAEA,IAAIC,SAAS,iBAAOC,aAAP,CAAqBC,OAAlC,C,CAA2C;;AAE3C;AACA,aAAGC,UAAH,CAAcH,MAAd,KAAyB,aAAGI,SAAH,CAAaJ,MAAb,CAAzB;AACA,IAAIK,UAAUN,QAAQO,YAAR,CAAqB;AACjCC,UAAQR,QAAQQ,MAAR,CAAeC,MAAf,CAAsB;AAAA,gBAAWC,KAAKC,OAAhB;AAAA,GAAtB,CADyB;AAEjCC,cAAY,CACV,IAAIZ,QAAQY,UAAR,CAAmBC,eAAvB,CAAuC;AACrCC,cAAUb,SAAS,iBADkB;AAErCc,iBAAa,eAFwB;AAGrCC,mBAAe,KAHsB;AAIrCC,aAAS,KAJ4B;AAKrCC,cAAU;AAL2B,GAAvC,CADU,CAFqB;AAWjCC,eAAa;AAXoB,CAArB,CAAd;;kBAceb,O","file":"logger-info.js","sourcesContent":["import * as winston from 'winston'\nimport fs from 'fs'\nimport 'winston-daily-rotate-file'\nimport config from 'config'\n\nlet logDir = config.logPathConfig.infoLog; // directory path of log\n\n// check log exists\nfs.existsSync(logDir) || fs.mkdirSync(logDir);\nlet logInfo = winston.createLogger({\n  format: winston.format.printf(info => `${info.message}`),\n  transports: [\n    new winston.transports.DailyRotateFile({\n      filename: logDir + 'info_%DATE%.log',\n      datePattern: 'YYYYMMDD_HH00',\n      zippedArchive: false,\n      maxSize: '20m',\n      maxFiles: '1d'\n    })\n  ],\n  exitOnError: false\n});\n\nexport default logInfo\n"]}
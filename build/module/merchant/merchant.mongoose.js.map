{"version":3,"sources":["../../../app/module/merchant/merchant.mongoose.js"],"names":["addMerchant","req","data","callback","info","usersData","save","err","result","error","updateMerchant","_id","findByIdAndUpdate","$set","exec","getMerchantById","findById","removeMerchant","remove","getMerchant","find","results","getMerchantByCriteria","criteria","findOne","getMerchantsByCriteria"],"mappings":"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","file":"merchant.mongoose.js","sourcesContent":["import logger from '../../log/logger' // Load logger\nimport MerchantsSchema from './merchant.model'\n\nexport const addMerchant = (req, data, callback) => {\n  try {\n    logger.info('mongoose addMerchant')\n    let usersData = new MerchantsSchema(data)\n    usersData.save((err, result) => {\n      if (err) {\n        logger.error('addMerchant Failed! >> ' + err)\n        callback(err)\n      } else {\n        logger.info('addMerchant Success')\n        callback(null, result)\n      }\n    })\n  } catch (err) {\n    logger.error('addMerchant.mongoose Unhandled Exception: ', err)\n    callback(err)\n  }\n}\n\nexport const updateMerchant = (req, _id, data, callback) => {\n  try {\n    logger.info('mongoose updateMerchant')\n    MerchantsSchema.findByIdAndUpdate({_id}, {\n      $set: data\n    }).exec(function (err, result) {\n      if (err) {\n        logger.error('updateMerchant Failed! >> ' + err)\n        callback(err)\n      } else {\n        logger.info('updateMerchant Success')\n        callback(null, result)\n      }\n    })\n  } catch (err) {\n    logger.error('updateMerchant.mongoose Unhandled Exception: ', err)\n    callback(err)\n  }\n}\n\nexport const getMerchantById = (req, _id, callback) => {\n  try {\n    logger.info('mongoose getMerchantById')\n    MerchantsSchema.findById(_id, '-__v')\n      .exec(function (err, result) {\n        if (err) {\n          logger.error('getMerchantById Failed! >> ' + err)\n          callback(err)\n        } else {\n          logger.info('getMerchantById Success')\n          callback(null, result)\n        }\n      })\n  } catch (err) {\n    logger.error('getMerchantById.mongoose Unhandled Exception: ', err)\n    callback(err)\n  }\n}\n\nexport const removeMerchant = (req, _id, callback) => {\n  try {\n    logger.info('mongoose removeMerchant')\n    MerchantsSchema.remove({_id})\n      .exec(function (err, result) {\n        if (err) {\n          logger.error('removeMerchant Failed! >> ' + err)\n          callback(err)\n        } else {\n          logger.info('removeMerchant Success')\n          callback(null, result)\n        }\n      })\n  } catch (err) {\n    logger.error('removeMerchant.mongoose Unhandled Exception: ', err)\n    callback(err)\n  }\n}\n\nexport const getMerchant = (req, callback) => {\n  try {\n    logger.info('mongoose getMerchant')\n    MerchantsSchema.find({}, '-__v')\n      .exec(function (err, results) {\n        if (err) {\n          logger.error('getMerchant Failed! >> ' + err)\n          callback(err)\n        } else {\n          logger.info('getMerchant Success')\n          callback(null, results)\n        }\n      })\n  } catch (err) {\n    logger.error('getMerchant.mongoose Unhandled Exception: ', err)\n    callback(err)\n  }\n}\n\nexport const getMerchantByCriteria = (req, criteria, callback) => {\n  try {\n    logger.info('mongoose getMerchantByCriteria')\n    MerchantsSchema.findOne(criteria, '-__v')\n      .exec(function (err, result) {\n        if (err) {\n          logger.error('getMerchantByCriteria Failed! >> ' + err)\n          callback(err)\n        } else {\n          logger.info('getMerchantByCriteria Success')\n          callback(null, result)\n        }\n      })\n  } catch (err) {\n    logger.error('getMerchantByCriteria.mongoose Unhandled Exception: ', err)\n    callback(err)\n  }\n}\n\nexport const getMerchantsByCriteria = (req, criteria, callback) => {\n  try {\n    logger.info('mongoose getMerchantsByCriteria')\n    MerchantsSchema.find(criteria, '-__v')\n      .exec(function (err, results) {\n        if (err) {\n          logger.error('getMerchantsByCriteria Failed! >> ' + err)\n          callback(err)\n        } else {\n          logger.info('getMerchantsByCriteria Success')\n          callback(null, results)\n        }\n      })\n  } catch (err) {\n    logger.error('getMerchantsByCriteria.mongoose Unhandled Exception: ', err)\n    callback(err)\n  }\n}\n"]}
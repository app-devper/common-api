{"version":3,"sources":["../../app/routes/web.router.js"],"names":["appDir","join","__dirname","webDir","router","Router","use","logPathConfig","appLog","static","accessLog","infoLog","get","req","res","sendFile","info"],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AAAmC;;AAJL;AAM9B,IAAMA,SAAS,eAAKC,IAAL,CAAUC,SAAV,EAAqB,uBAArB,CAAf;AACA,IAAMC,SAAS,eAAKF,IAAL,CAAUC,SAAV,EAAqB,YAArB,CAAf;;AAEA,IAAIE,SAAS,kBAAQC,MAAR,EAAb,C,CAA8B;;AAE9BD,OAAOE,GAAP,CAAW,OAAX,EAAoB,0BAAW,iBAAOC,aAAP,CAAqBC,MAAhC,EAAwC,EAAC,SAAS,IAAV,EAAxC,CAApB;AACAJ,OAAOE,GAAP,CAAW,OAAX,EAAoB,kBAAQG,MAAR,CAAe,iBAAOF,aAAP,CAAqBC,MAApC,CAApB;AACAJ,OAAOE,GAAP,CAAW,SAAX,EAAsB,0BAAW,iBAAOC,aAAP,CAAqBG,SAAhC,EAA2C,EAAC,SAAS,IAAV,EAA3C,CAAtB;AACAN,OAAOE,GAAP,CAAW,SAAX,EAAsB,kBAAQG,MAAR,CAAe,iBAAOF,aAAP,CAAqBG,SAApC,CAAtB;AACAN,OAAOE,GAAP,CAAW,OAAX,EAAoB,0BAAW,iBAAOC,aAAP,CAAqBI,OAAhC,EAAyC,EAAC,SAAS,IAAV,EAAzC,CAApB;AACAP,OAAOE,GAAP,CAAW,OAAX,EAAoB,kBAAQG,MAAR,CAAe,iBAAOF,aAAP,CAAqBI,OAApC,CAApB;;AAEAP,OAAOE,GAAP,CAAW,GAAX,EAAgB,kBAAQG,MAAR,CAAeN,MAAf,CAAhB;;AAEAC,OAAOQ,GAAP,CAAW,GAAX,EAAgB,UAAUC,GAAV,EAAeC,GAAf,EAAoB;AAClCA,MAAIC,QAAJ,CAAaf,MAAb;AACD,CAFD;;AAIA,iBAAOgB,IAAP,CAAY,mBAAZ;;kBAEeZ,M","file":"web.router.js","sourcesContent":["import express from 'express' // Load express\nimport serveIndex from 'serve-index'\nimport config from 'config'\nimport path from 'path'\nimport logger from '../log/logger' // Load logger\n\nconst appDir = path.join(__dirname, '../../dist/index.html');\nconst webDir = path.join(__dirname, '../../dist');\n\nlet router = express.Router();// Load router\n\nrouter.use('/logs', serveIndex(config.logPathConfig.appLog, {'icons': true}));\nrouter.use('/logs', express.static(config.logPathConfig.appLog));\nrouter.use('/access', serveIndex(config.logPathConfig.accessLog, {'icons': true}));\nrouter.use('/access', express.static(config.logPathConfig.accessLog));\nrouter.use('/info', serveIndex(config.logPathConfig.infoLog, {'icons': true}));\nrouter.use('/info', express.static(config.logPathConfig.infoLog));\n\nrouter.use('/', express.static(webDir));\n\nrouter.get('*', function (req, res) {\n  res.sendFile(appDir)\n});\n\nlogger.info('web.routes loaded');\n\nexport default router\n"]}